<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SMIL元素特性介绍 | Awesome Graph</title>
    <meta name="description" content="SVG + Canvas 图形🚀🎉">
    <link rel="stylesheet" href="/awesome-graph/assets/style.4fa3c36f.css">
    <link rel="modulepreload" href="/awesome-graph/assets/app.b813a189.js">
    <link rel="modulepreload" href="/awesome-graph/assets/svg_animation_svg-animation-attributes.md.7ef7eb66.lean.js">
    
    <link rel="icon" href="/awesome-graph/favicon.ico">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-be7d0fa9><!--[--><!--]--><!--[--><span tabindex="-1" data-v-bbcd320a></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-bbcd320a> Skip to content </a><!--]--><!----><header class="VPNav" data-v-be7d0fa9 data-v-a2f9d933><div class="VPNavBar has-sidebar" data-v-a2f9d933 data-v-49a82da2><div class="container" data-v-49a82da2><div class="VPNavBarTitle has-sidebar" data-v-49a82da2 data-v-b003febd><a class="title" href="/awesome-graph/" data-v-b003febd><!--[--><!--]--><!--[--><img class="VPImage logo" src="/awesome-graph/logo.svg" alt data-v-f9af9fb3><!--]--><!--[-->Awesome Graph<!--]--><!--[--><!--]--></a></div><div class="content" data-v-49a82da2><!--[--><!--]--><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-49a82da2 data-v-bc83faf2><span id="main-nav-aria-label" class="visually-hidden" data-v-bc83faf2>Main Navigation</span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-bc83faf2 data-v-fe4c30c3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-fe4c30c3><span class="text" data-v-fe4c30c3><!----> 🌈 SVG <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-fe4c30c3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-fe4c30c3><div class="VPMenu" data-v-fe4c30c3 data-v-21f5d900><div class="items" data-v-21f5d900><!--[--><!--[--><div class="VPMenuLink" data-v-21f5d900 data-v-6cbb470c><a class="VPLink link" href="/awesome-graph/svg/depth/part1-svg-viewport-viewbox.html" data-v-6cbb470c data-v-dfed8291><!--[-->😏 深入理解SVG<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-21f5d900 data-v-6cbb470c><a class="VPLink link" href="/awesome-graph/svg/animation/a-guide-to-svg-animations.html" data-v-6cbb470c data-v-dfed8291><!--[-->🌟 SVG 动画<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-49a82da2 data-v-508ffd35><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-508ffd35 data-v-62ec522e data-v-a75b3f41><span class="check" data-v-a75b3f41><span class="icon" data-v-a75b3f41><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-62ec522e><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-62ec522e><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-49a82da2 data-v-77e0dcc4 data-v-fe4c30c3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-fe4c30c3><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-fe4c30c3><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-fe4c30c3><div class="VPMenu" data-v-fe4c30c3 data-v-21f5d900><!----><!--[--><!--[--><!----><div class="group" data-v-77e0dcc4><div class="item appearance" data-v-77e0dcc4><p class="label" data-v-77e0dcc4>Appearance</p><div class="appearance-action" data-v-77e0dcc4><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-77e0dcc4 data-v-62ec522e data-v-a75b3f41><span class="check" data-v-a75b3f41><span class="icon" data-v-a75b3f41><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-62ec522e><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-62ec522e><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-49a82da2 data-v-c94a43b9><span class="container" data-v-c94a43b9><span class="top" data-v-c94a43b9></span><span class="middle" data-v-c94a43b9></span><span class="bottom" data-v-c94a43b9></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-be7d0fa9 data-v-9970d860><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-9970d860><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-9970d860><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-9970d860>Menu</span></button><a class="top-link" href="#" data-v-9970d860> Return to top </a></div><aside class="VPSidebar" data-v-be7d0fa9 data-v-78cd20b3><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-78cd20b3><span class="visually-hidden" id="sidebar-aria-label" data-v-78cd20b3> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-78cd20b3><section class="VPSidebarGroup" data-v-78cd20b3 data-v-081e30f9><div class="title" data-v-081e30f9><h2 class="title-text" data-v-081e30f9>🏎️ SMIL动画</h2><div class="action" data-v-081e30f9><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-081e30f9><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-081e30f9><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-081e30f9><!--[--><!--[--><a class="VPLink link link" href="/awesome-graph/svg/animation/a-guide-to-svg-animations.html" style="padding-left:0px;" data-v-efac91c9 data-v-dfed8291><!--[--><span class="link-text" data-v-efac91c9>SVG SMIL动画</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/awesome-graph/svg/animation/svg-animation-overview.html" style="padding-left:0px;" data-v-efac91c9 data-v-dfed8291><!--[--><span class="link-text" data-v-efac91c9>SVG动画概览</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link active" href="/awesome-graph/svg/animation/svg-animation-attributes.html" style="padding-left:0px;" data-v-efac91c9 data-v-dfed8291><!--[--><span class="link-text" data-v-efac91c9>⚡SMIL动画元素特性介绍</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/awesome-graph/svg/animation/svg-animation-morphing-path.html" style="padding-left:0px;" data-v-efac91c9 data-v-dfed8291><!--[--><span class="link-text" data-v-efac91c9>⚡morphing path动画效果</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/awesome-graph/svg/animation/svg-animation-motion-path.html" style="padding-left:0px;" data-v-efac91c9 data-v-dfed8291><!--[--><span class="link-text" data-v-efac91c9>⚡沿path动画</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/awesome-graph/svg/animation/svg-animation-transformations.html" style="padding-left:0px;" data-v-efac91c9 data-v-dfed8291><!--[--><span class="link-text" data-v-efac91c9>SMIL Transformations动画</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-be7d0fa9 data-v-cc5309f8><div class="VPDoc has-sidebar has-aside" data-v-cc5309f8 data-v-a469ff95><div class="container" data-v-a469ff95><div class="aside" data-v-a469ff95><div class="aside-curtain" data-v-a469ff95></div><div class="aside-container" data-v-a469ff95><div class="aside-content" data-v-a469ff95><div class="VPDocAside" data-v-a469ff95 data-v-d5311ead><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-d5311ead data-v-a9957d53><div class="content" data-v-a9957d53><div class="outline-marker" data-v-a9957d53></div><div class="outline-title" data-v-a9957d53>目录</div><nav aria-labelledby="doc-outline-aria-label" data-v-a9957d53><span class="visually-hidden" id="doc-outline-aria-label" data-v-a9957d53> Table of Contents for current page </span><ul class="root" data-v-a9957d53 data-v-6e584bde><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-d5311ead></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-a469ff95><div class="content-container" data-v-a469ff95><!--[--><!--]--><main class="main" data-v-a469ff95><div style="position:relative;" class="vp-doc _awesome-graph_svg_animation_svg-animation-attributes" data-v-a469ff95><div><p>这是 <a href="https://css-tricks.com/guide-svg-animations-smil/#aa-specifying-the-target-of-the-animation-with-xlinkhref" target="_blank" rel="noreferrer">A Guide to SVG Animations (SMIL)</a> 的部分内容2。</p><nav class="table-of-contents"><ul><li><a href="#_4️⃣-⭐-xlink-href-指定动画目标">4️⃣ ⭐ xlink:href 指定动画目标</a></li><li><a href="#_5️⃣-attributename-attributetype-指定动画属性">5️⃣ attributeName &amp; attributeType 指定动画属性</a></li><li><a href="#_6️⃣-from-by-to-begin-dur-fill-特性">6️⃣ from, by, to, begin, dur, fill 特性 <span class="VPBadge tip" data-v-09475cbf><!--[-->⭐<!--]--></span></a></li><li><a href="#_7️⃣-restart-重启动画">7️⃣ restart 重启动画</a></li><li><a href="#_8️⃣-⭐-命名动画和同步多个动画">8️⃣ ⭐ 命名动画和同步多个动画</a></li><li><a href="#_9️⃣-重复动画">9️⃣ 重复动画</a><ul><li><a href="#_9-1-repeatcount-重复动画">9.1 repeatCount 重复动画</a></li><li><a href="#_9-2-repeatdur-限制重复时间">9.2 repeatDur 限制重复时间</a></li><li><a href="#_9-3-依据重复次数同步动画">9.3 依据重复次数同步动画</a></li></ul></li><li><a href="#🔟-keytimes-values-控制动画keyframes值">🔟 keyTimes&amp;values 控制动画keyframes值</a></li><li><a href="#_1️⃣1️⃣-calcmode-keysplines-自定义keyframes缓动函数">1️⃣1️⃣ calcMode &amp; keySplines 自定义keyframes缓动函数</a></li><li><a href="#_1️⃣2️⃣-additive-accumulate-叠加和累积动画">1️⃣2️⃣ additive &amp; accumulate 叠加和累积动画</a></li><li><a href="#_1️⃣3️⃣-end-指定动画结束条件">1️⃣3️⃣ end 指定动画结束条件</a></li><li><a href="#_1️⃣4️⃣-多组-begin-end-定义间歇性动画">1️⃣4️⃣ 多组 begin + end 定义间歇性动画</a></li><li><a href="#_1️⃣5️⃣-min-max-限制动画时间">1️⃣5️⃣ min &amp; max 限制动画时间</a></li></ul></nav><h2 id="_4️⃣-⭐-xlink-href-指定动画目标" tabindex="-1">4️⃣ ⭐ <code>xlink:href</code> 指定动画目标 <a class="header-anchor" href="#_4️⃣-⭐-xlink-href-指定动画目标" aria-hidden="true">#</a></h2><p>无论你使用4种动画元素（<code>&lt;animate&gt;</code> &amp; <code>&lt;set&gt;</code> &amp; <code>&lt;animateMotion&gt;</code> &amp; <code>animateColor</code>）中的哪一种，你都需要指定动画的目标。</p><p>为了指定目标，你可以使用 <code>xlink:href</code> 特性。该属性接受一个指向此动画目标元素的URI引用，该元素将随着时间的推移而被修改。</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>目标元素必须是当前SVG文档片段的一部分。</p></div><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki has-highlighted-lines"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">rect</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cool_shape</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">...</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">animate</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">xlink:href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#cool_shape</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">...</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">animate</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">rect</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>如果你使用嵌套的语法，也可以忽略 <code>xlink:href</code>，它会直接寻找当前动画元素的父元素，即上面可写为：<code>&lt;animate&gt;动画元素也会对父元素 &lt;rect&gt; 进行动画</code></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki has-highlighted-lines"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">rect</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cool_shape</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> ...=&quot;&quot;&gt;</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">  &lt;!-- </span><span style="color:#C792EA;">嵌套的形式可以省略</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">xlink</span><span style="color:#89DDFF;">:</span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;"> --&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">	&lt;animate  ...=&quot;&quot;&gt;&lt;/animate&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/rect&gt;</span></span>
<span class="line"></span></code></pre></div><p>如果你想把动画和文档分开则必须使用 <code>xlink:href</code> 特性：</p><div class="language-xml"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki has-highlighted-lines"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">svg</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">rect</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cool_shape</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">...</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">rect</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#A6ACCD;">	</span><span style="color:#676E95;">&lt;!-- 在别的地方对rect元素进行动画 --&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">animate</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">xlink</span><span style="color:#89DDFF;">:</span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#cool_shape</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">...</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">animate</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">svg</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="_5️⃣-attributename-attributetype-指定动画属性" tabindex="-1">5️⃣ <code>attributeName</code> &amp; <code>attributeType</code> 指定动画属性 <a class="header-anchor" href="#_5️⃣-attributename-attributetype-指定动画属性" aria-hidden="true">#</a></h2><p>所有动画元素都共享一个特性：<code>attributeName</code> - 用于指定要动画的特性的名字。</p><ul><li>🌰 比如你要对 <code>&lt;circle cx=&quot;100&quot; ...&gt;</code> 元素进行X轴方向的移动动画，则可以指定为 <code>attributeName=&quot;cx&quot;</code></li></ul><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p><code>attributeName</code> 一次只能接收一个值，而不是一个列表或者数组，因此如果你想对多个特性进行动画，则需要给该元素定义多个动画。这也是SMIL动画不如CSS动画方便的地方😅。</p></div><p>📚 当你指定一个特性名时，你可以添加一个 <code>XMLNS</code> (<code>XML</code> 简写) 前缀，表明该特性的命名空间。命名空间也可以通过 <code>attributeType</code> 指定：</p><p>一些特性属于CSS命名空间（这也以为着该特性 <code>也</code> 可以在CSS属性中找到）；而一些特性是XML独有的，如下图：</p><p><img src="/awesome-graph/assets/svg-css-namespace.0b0bd488.png" alt="namespaces"></p><p>上图没有列举出所有的SVG特性，只是可以使用CSS设置的一些特性。它们中有些已经作为CSS属性可以访问到了。</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>如果没有显式的设置 <code>attributeType</code> 或者将其设置为 <code>auto</code>，浏览器首先会对CSS属性列表进行搜索匹配，如果没有找到，再去默认的XML名称空间中搜索元素。</p></div><p>🌰 下面对SVG矩形的 <code>opacity</code> 进行动画，因为 <code>opacity</code> 特性也可以作为CSS属性使用，下面的 <code>attributeType</code> 设置为 <code>CSS命名空间</code>：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">rect</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">animate</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#C792EA;">attributeType</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">CSS</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#C792EA;">attributeName</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">opacity</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#C792EA;">from</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#C792EA;">to</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#C792EA;">dur</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">5s</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#C792EA;">repeatCount</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">indefinite</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  &gt;&lt;/</span><span style="color:#F07178;">animate</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">rect</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>下面对其它动画特性进行介绍，除非特殊说明，所有的动画特性都是对所有动画元素都是通用的。</p></div><h2 id="_6️⃣-from-by-to-begin-dur-fill-特性" tabindex="-1">6️⃣ <code>from, by, to, begin, dur, fill</code> 特性 <span class="VPBadge tip" data-v-09475cbf><!--[-->⭐<!--]--></span> <a class="header-anchor" href="#_6️⃣-from-by-to-begin-dur-fill-特性" aria-hidden="true">#</a></h2><p>我们先将一个圆从一个地方水平移动到另一个地方，即改变 <code>cx</code> 特性的值。这个元素一次对一个特性进行动画。<code>💡 一般接收数字类型或者颜色的特性都是可以进行动画的</code>。</p><p>为了添加动画，一般会使用 <code>from</code> &amp; <code>to</code> &amp; <code>dur</code> 值。除了这些，为了指定动画什么时候开始，还会用到 <code>begin</code> 特性。</p><p>🌰：定义一个圆，从圆的中心从 <code>50单位</code> 沿着x轴移动到 <code>450单位</code> 位置 - <a href="https://codepen.io/JamesSawyer/pen/qBKqJvV" target="_blank" rel="noreferrer">SVG animate basic attributes - codepen</a></p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki has-highlighted-lines"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">circle</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">my-circle</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">r</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">30</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">cx</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">cy</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">fill</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">orange</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">animate</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">xlink:href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#my-circle</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span></span>
<span class="line"><span style="color:#89DDFF;">		</span><span style="color:#C792EA;">attributeName</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cx</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">		</span><span style="color:#C792EA;">from</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">		</span><span style="color:#C792EA;">to</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">450</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">		</span><span style="color:#C792EA;">dur</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1s</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">		</span><span style="color:#C792EA;">begin</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">click</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">		</span><span style="color:#C792EA;">fill</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">freeze</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  &gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">animate</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">circle</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><iframe height="300" style="width:100%;" scrolling="no" title="#1 SVG animate" src="https://codepen.io/JamesSawyer/embed/preview/qBKqJvV?default-tab=result&amp;editable=true&amp;theme-id=dark" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen &lt;a href=&quot;https://codepen.io/JamesSawyer/pen/qBKqJvV&quot;&gt;
  #1 SVG animate&lt;/a&gt; by james sawyer (&lt;a href=&quot;https://codepen.io/JamesSawyer&quot;&gt;@JamesSawyer&lt;/a&gt;)
  on &lt;a href=&quot;https://codepen.io&quot;&gt;CodePen&lt;/a&gt;.
</iframe><p>1️⃣</p><p><code>begin</code> 的几种用法：</p><ul><li><p>这里设置为了 <code>click</code>，表示当圆被点击后触发动画。</p></li><li><p>也可以将其设置为时间值，比如 <code>begin=&quot;0s&quot;</code>，表示页面加载后就开始动画</p></li><li><p>或者非0值，表示延迟开始动画 <code>begin=&quot;2s&quot;</code>，延迟2s后开始动画</p></li><li><p><code>begin=&quot;click + 1s&quot;</code> : 点击后等1s开始动画</p></li><li><p>还可以使用其他值，用于同步动画，并且无需计算duration和动画延迟</p></li></ul><p>2️⃣</p><p><code>dur</code> 相当于CSS中的 <code>animation-duration</code> 表示动画时长</p><p>3️⃣</p><p><code>from</code> &amp; <code>to</code> 类似CSS中的 <code>@keyframes</code> 动画：</p><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">@keyframes</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">moveCircle</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">/* 起始值 */</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">/* 结束值 */</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>4️⃣</p><p><code>fill</code> 类似于 <code>animation-fill-mode</code> 属性，用于指定元素是否应该在动画结束后返回初始状态（这个名字取得并不好，和svg中定义填充颜色同名了😅）。它的值也类似CSS属性值，只是名字不同：</p><ul><li><code>freeze</code>：停止动画结束为止。除非动画重新开始</li><li><code>remove</code>：动画效果被移除，元素回到起始位置</li></ul><p>5️⃣</p><p><code>by</code> 用于指定 <code>相对偏移量</code>。这个一般只有在离散步骤动画才用到，类似于CSS里面的 <code>step()</code> 函数工作方式：</p><ul><li>SVG中等同于 <code>step()</code> 函数的是 <code>calcMode=&quot;discrete&quot;</code></li><li>使用叠加(<code>additive</code>)和累计(<code>accumulative</code>)动画中有可能用到 <code>by</code></li></ul><h2 id="_7️⃣-restart-重启动画" tabindex="-1">7️⃣ <code>restart</code> 重启动画 <a class="header-anchor" href="#_7️⃣-restart-重启动画" aria-hidden="true">#</a></h2><p>阻止动画被重新开始，当动画处于激活状态时。比如，当你点击一个圆，它开始运动，你再次点击圆时，它会重头开始动画，设置了这个值可以阻止这种行为：</p><ul><li><code>always</code>：动画任何时候都可以重新开始；这是默认值</li><li><code>whenNotActive</code>：只有当元素处于非激活状态时，才能重启动画；激活状态重启动画将被忽略</li><li><code>never</code>：不能重新开始动画</li></ul><h2 id="_8️⃣-⭐-命名动画和同步多个动画" tabindex="-1">8️⃣ ⭐ 命名动画和同步多个动画 <a class="header-anchor" href="#_8️⃣-⭐-命名动画和同步多个动画" aria-hidden="true">#</a></h2><p>假设我们想在移动圆圈之后，再改变圆的颜色。我们一般可以将颜色改变的 <code>begin</code> 时间设置为移动圆的 <code>dur</code> 值。</p><p>但是，SMIL提供了一个非常强大的事件处理功能。我们之前提到的 <code>begin=&quot;click + 5s&quot;</code> 值就被称为 <strong><code>事件值（event value）</code></strong>，它是 <code>[eventName] + [clockValue]</code> 组成。有趣的部分是 <code>[clockValue]</code>:</p><ul><li><a href="https://svgwg.org/specs/animations/#ClockValueSyntax" target="_blank" rel="noreferrer">ClockValue</a> 的语法 📔</li><li>可以写成 <code>10min</code> | <code>01:33</code> | <code>02:30:03</code> 等格式</li></ul><p>🤩 除了上面的写法外，<code>begin</code> 还支持ID引用的方式，这样可以很好的对多个动画进行编排，比如，下面的 <code>blue-rectangle</code> 在 <code>orange-circle</code> 开始后 <code>1s</code> 开始动画，可以写为：<a href="https://codepen.io/JamesSawyer/pen/ExRNOBd" target="_blank" rel="noreferrer">SVG animate begin写法 - @codepen</a></p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki has-highlighted-lines"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">svg</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">width</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">500</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">height</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">350</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">circle</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">orange-circle</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">r</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">30</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">cx</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">cy</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">fill</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">orange</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">rect</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">blue-rectangle</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">width</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">height</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">x</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">25</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">y</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">200</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">fill</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#0099cc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">animate</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">xlink:href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#orange-circle</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#C792EA;">attributeName</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cx</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#C792EA;">from</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#C792EA;">to</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">450</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#C792EA;">begin</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">click</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#C792EA;">dur</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">5s</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#C792EA;">fill</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">freeze</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">           </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">circ-anim</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">           /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">animate</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">xlink:href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#blue-rectangle</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#C792EA;">attributeName</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">x</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#C792EA;">from</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#C792EA;">to</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">425</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#C792EA;">dur</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">5s</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">           </span><span style="color:#C792EA;">begin</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">circ-anim.begin + 1s</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#C792EA;">fill</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">freeze</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">rect-anim</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">           /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">svg</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">点击圆开始动画，矩形1s后开始动画</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><iframe height="300" style="width:100%;" scrolling="no" title="Untitled" src="https://codepen.io/JamesSawyer/embed/preview/ExRNOBd?default-tab=result&amp;editable=true&amp;theme-id=dark" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen &lt;a href=&quot;https://codepen.io/JamesSawyer/pen/ExRNOBd&quot;&gt;
  Untitled&lt;/a&gt; by james sawyer (&lt;a href=&quot;https://codepen.io/JamesSawyer&quot;&gt;@JamesSawyer&lt;/a&gt;)
  on &lt;a href=&quot;https://codepen.io&quot;&gt;CodePen&lt;/a&gt;.
</iframe><p>还可以在圆结束后开始矩形动画，使用 <code>end</code> 事件：</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki has-focused-lines"><code><span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">animate</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">xlink</span><span style="color:#89DDFF;">:</span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#blue-rectangle</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">          </span><span style="color:#C792EA;">attributeName</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">x</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">          </span><span style="color:#C792EA;">from</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">          </span><span style="color:#C792EA;">to</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">425</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">          </span><span style="color:#C792EA;">dur</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">5s</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line has-focus"><span style="color:#89DDFF;">          </span><span style="color:#C792EA;">begin</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">circ-anim.end</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span></span>
<span class="line"><span style="color:#89DDFF;">          </span><span style="color:#C792EA;">fill</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">freeze</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">          </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">rect-anim</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">        /&gt;</span></span>
<span class="line"></span></code></pre></div><p>或者其他的组合：</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki has-focused-lines"><code><span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">animate</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">xlink</span><span style="color:#89DDFF;">:</span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#blue-rectangle</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">          </span><span style="color:#C792EA;">attributeName</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">x</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">          </span><span style="color:#C792EA;">from</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">          </span><span style="color:#C792EA;">to</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">425</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">          </span><span style="color:#C792EA;">dur</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">5s</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line has-focus"><span style="color:#89DDFF;">          </span><span style="color:#C792EA;">begin</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">circ-anim.end - 3s</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span></span>
<span class="line"><span style="color:#89DDFF;">          </span><span style="color:#C792EA;">fill</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">freeze</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">          </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">rect-anim</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">        /&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="_9️⃣-重复动画" tabindex="-1">9️⃣ 重复动画 <a class="header-anchor" href="#_9️⃣-重复动画" aria-hidden="true">#</a></h2><h3 id="_9-1-repeatcount-重复动画" tabindex="-1">9.1 <code>repeatCount</code> 重复动画 <a class="header-anchor" href="#_9-1-repeatcount-重复动画" aria-hidden="true">#</a></h3><p>指定动画重复次数</p><ul><li><code>repeatCount=&quot;2&quot;</code>：表示重复2次</li><li><code>repeatCount=&quot;indefinite&quot;</code>：表示无限重复</li></ul><p>🌰 重复圆圈2次 - <a href="https://codepen.io/JamesSawyer/pen/BaVpzLX" target="_blank" rel="noreferrer">SVG SMIL repeatCount attribute - @codepen</a></p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki has-focused-lines"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">animate</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">xlink:href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#circle</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">attributeName</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cx</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">from</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">to</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">450</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">dur</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">5s</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">begin</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">click</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line has-focus"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">repeatCount</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">fill</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">freeze</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">circle-anim</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"></span></code></pre></div><iframe height="300" style="width:100%;" scrolling="no" title="#3 SVG SMIL repeatCount attribute" src="https://codepen.io/JamesSawyer/embed/preview/BaVpzLX?default-tab=result&amp;editable=true&amp;theme-id=dark" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen &lt;a href=&quot;https://codepen.io/JamesSawyer/pen/BaVpzLX&quot;&gt;
  #3 SVG SMIL repeatCount attribute&lt;/a&gt; by james sawyer (&lt;a href=&quot;https://codepen.io/JamesSawyer&quot;&gt;@JamesSawyer&lt;/a&gt;)
  on &lt;a href=&quot;https://codepen.io&quot;&gt;CodePen&lt;/a&gt;.
</iframe><p>可以发现重复的时候，动画会从 <code>from</code> 位置再次开始。</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>不幸的是，SMIL没有像CSS那样的前进返回的效果（<code>yoyo</code> 效果）😅。CSS中有个 <code>animation-direction: alternate</code> 可实现 <code>yoyo</code> 效果。</p></div><p>如果SMIL要实现yoyo效果，则需要借助JS显式的改变 <code>from</code> &amp; <code>to</code> 值，可参考 <a href="https://bigbite.net/2013/11/27/introduction-svg-animation/" target="_blank" rel="noreferrer">Jon McPartland 文章</a>。</p><p>💡另一种解决方法是将结束值指定为中间值，然后使结束值与初始值相同。例如，你将 <code>from</code> &amp; <code>to</code> 设置为相同值，然后设置一个中间值。CSS用 <code>keyframes</code> 的做法是：</p><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">@keyframes</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">alternate</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">from</span><span style="color:#A6ACCD;">, </span><span style="color:#FFCB6B;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">left</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">50%</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">left</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">300px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>📚 而SMIL则可以使用 <code>values</code> 特性，我们之后会讲到这特性。</p><p>也就是说，上述方法可能对你有用，也可能不适用，这取决于你想要的动画类型，以及你是否要链式动画、重复动画或累加动画。</p><p>这里有一个使用延迟开始时间的简单无限动画：<a href="https://codepen.io/mileselam/pen/QWVYXR" target="_blank" rel="noreferrer">Hexagon Ripple - @codepen</a></p><iframe height="300" style="width:100%;" scrolling="no" title="Hexagon Ripple" src="https://codepen.io/mileselam/embed/preview/QWVYXR?default-tab=result&amp;editable=true&amp;theme-id=dark" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen &lt;a href=&quot;https://codepen.io/mileselam/pen/QWVYXR&quot;&gt;
  Hexagon Ripple&lt;/a&gt; by Miles Elam (&lt;a href=&quot;https://codepen.io/mileselam&quot;&gt;@mileselam&lt;/a&gt;)
  on &lt;a href=&quot;https://codepen.io&quot;&gt;CodePen&lt;/a&gt;.
</iframe><h3 id="_9-2-repeatdur-限制重复时间" tabindex="-1">9.2 <code>repeatDur</code> 限制重复时间 <a class="header-anchor" href="#_9-2-repeatdur-限制重复时间" aria-hidden="true">#</a></h3><p>将 <code>repeat=&quot;indefinite&quot;</code> 会无限重复动画，这可能会有点无聊。我们可以通过 <code>repeatDur</code> 限制重复时间。时间从文档加载完开始计算，这个时间称之为 <code>表现时间（presentation time）</code>。它的语法类似 <a href="https://svgwg.org/specs/animations/#ClockValueSyntax" target="_blank" rel="noreferrer">ClockValue</a> 的语法。但是它是 <strong><code>相对于文档开始时间的，而不是相对事件</code></strong></p><p>🌰 <code>从文档开始后 1分30秒 后停止重复动画</code></p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki has-focused-lines"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">animate</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">xlink:href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#circle</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">attributeName</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cx</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">from</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">to</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">450</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">dur</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2s</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">begin</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0s</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line has-focus"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">repeatCount</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">indefinite</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span></span>
<span class="line has-focus"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">repeatDur</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">01:30</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">fill</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">freeze</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">circle-anim</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"></span></code></pre></div><p>Live demo: <a href="https://codepen.io/JamesSawyer/pen/MWXJJPo" target="_blank" rel="noreferrer">SMIL repeatDur attribute - @codepen</a></p><iframe height="300" style="width:100%;" scrolling="no" title="#4 SVG SMIL repeatDur attribute" src="https://codepen.io/JamesSawyer/embed/preview/MWXJJPo?default-tab=result&amp;editable=true&amp;theme-id=dark" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen &lt;a href=&quot;https://codepen.io/JamesSawyer/pen/MWXJJPo&quot;&gt;
  #4 SVG SMIL repeatDur attribute&lt;/a&gt; by james sawyer (&lt;a href=&quot;https://codepen.io/JamesSawyer&quot;&gt;@JamesSawyer&lt;/a&gt;)
  on &lt;a href=&quot;https://codepen.io&quot;&gt;CodePen&lt;/a&gt;.
</iframe><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>🚨 <code>repeatDur</code> 是从文档加载就开始计时的，如果下面代码，可能动画重复的次数和你想的不一样：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki has-highlighted-lines"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">animate</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">xlink:href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#circle</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">attributeName</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cx</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">from</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">to</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">450</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">dur</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2s</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">begin</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0s</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">repeatCount</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">indefinite</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">repeatDur</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">6s</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">fill</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">freeze</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">circle-anim</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"></span></code></pre></div><p>理想中动画时长 <code>2s</code>，重复 <code>6s</code> ，重复次数为 <code>6/2 = 3</code> 次，实际只会重复2次。</p><p>但如果你是通过 <code>begin=&quot;click&quot;</code> 点击触发动画，则下面动画重复次数会得到保障：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">animate</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">xlink:href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#circle</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">attributeName</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cx</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">from</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">to</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">450</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">dur</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2s</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">begin</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0s</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">repeatCount</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">indefinite</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">repeatDur</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">7s</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">fill</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">freeze</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">circle-anim</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"></span></code></pre></div><p>重复次数 <code>7/2 = 3.5</code> 次，圆会在3.5次，停止动画中间。</p></div><h3 id="_9-3-依据重复次数同步动画" tabindex="-1">9.3 依据重复次数同步动画 <a class="header-anchor" href="#_9-3-依据重复次数同步动画" aria-hidden="true">#</a></h3><p>让我们再次回到<code>同步动画</code>这个话题上。在SMIL中，你可以让一个动画在另一个动画重复多少次之后再开始动画😎。</p><p>🌰 矩形在圆形重复2次动画之后，再开始动画，<code>有点类似GSAP时间轴的概念</code>：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki has-focused-lines"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">animate</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">xlink:href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#rect</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">attributeName</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">x</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">from</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">to</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">450</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">dur</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2s</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line has-focus"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">begin</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">circ.anim.repeat(2)</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">repeatCount</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">indefinite</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">fill</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">freeze</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">rect-anim</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"></span></code></pre></div><p>还可以加上或者减去一些时间：<code>圆重复2次，第2次结束前1s，矩形开始动画</code></p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki has-focused-lines"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">animate</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">xlink:href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#rect</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">attributeName</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">x</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">from</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">to</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">450</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">dur</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2s</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line has-focus"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">begin</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">circ.anim.repeat(2) - 1s</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">repeatCount</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">indefinite</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">fill</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">freeze</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">rect-anim</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"></span></code></pre></div><p>可参考：<a href="https://codepen.io/JamesSawyer/pen/mdKRWdy" target="_blank" rel="noreferrer">SMIL依据repeat同步多个动画</a></p><iframe height="300" style="width:100%;" scrolling="no" title="#4 SVG SMIL repeatDur attribute" src="https://codepen.io/JamesSawyer/embed/preview/mdKRWdy?default-tab=result&amp;editable=true&amp;theme-id=dark" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen &lt;a href=&quot;https://codepen.io/JamesSawyer/pen/mdKRWdy&quot;&gt;
  #4 SVG SMIL repeatDur attribute&lt;/a&gt; by james sawyer (&lt;a href=&quot;https://codepen.io/JamesSawyer&quot;&gt;@JamesSawyer&lt;/a&gt;)
  on &lt;a href=&quot;https://codepen.io&quot;&gt;CodePen&lt;/a&gt;.
</iframe><p>还有一个 <a href="http://oreillymedia.github.io/svg-essentials-examples/ch12/sync_repetition.html" target="_blank" rel="noreferrer">sync repetition demo</a></p><h2 id="🔟-keytimes-values-控制动画keyframes值" tabindex="-1">🔟 <code>keyTimes</code>&amp;<code>values</code> 控制动画keyframes值 <a class="header-anchor" href="#🔟-keytimes-values-控制动画keyframes值" aria-hidden="true">#</a></h2><p>在CSS中你可以使用 <code>@keyframes</code> 控制动画属性，比如下面keyframes动画类似弹簧的效果：</p><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">@keyframes</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">bounce</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">0%</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">left</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">50%</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">left</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">320px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">80%</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">left</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">270px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">100%</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">left</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">300px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>📚 通过百分比的形式描述动画路径。SMIL存在相同的方式，就是语法有所差异：</p><ul><li><code>keyTimes</code> 指定特定keyframes，控制动画的节奏，使用小数的形式</li><li><code>values</code> 指定对应keyframes上的值，使用这个特性后 <code>from</code> &amp; <code>to</code> 特性会被忽略🚨🚨</li></ul><p>所以上面的keyframes动画，在SMIL中的形式为：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki has-focused-lines"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">animate</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">xlink:href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#circle</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">attributeName</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cx</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">from</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">to</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">450</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">dur</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2s</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">begin</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">click</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span></span>
<span class="line has-focus"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">keyTimes</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0; 0.5; 0.8; 1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">  </span></span>
<span class="line has-focus"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">values</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50; 490; 350; 450</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">fill</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">freeze</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">circ-anim</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"></span></code></pre></div><p>🌰 <a href="https://codepen.io/JamesSawyer/pen/eYKgvGP" target="_blank" rel="noreferrer">SMIL keyTimes &amp; values</a></p><iframe height="300" style="width:100%;" scrolling="no" title="#5 SVG SMIL 依据repeat同步多个动画" src="https://codepen.io/JamesSawyer/embed/preview/eYKgvGP?default-tab=result&amp;editable=true&amp;theme-id=dark" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen &lt;a href=&quot;https://codepen.io/JamesSawyer/pen/eYKgvGP&quot;&gt;
  #5 SVG SMIL 依据repeat同步多个动画&lt;/a&gt; by james sawyer (&lt;a href=&quot;https://codepen.io/JamesSawyer&quot;&gt;@JamesSawyer&lt;/a&gt;)
  on &lt;a href=&quot;https://codepen.io&quot;&gt;CodePen&lt;/a&gt;.
</iframe><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>如果只定义 <code>values</code>，而没有定义 <code>keyTimes</code> 特性，则动画为线性动画。</p></div><h2 id="_1️⃣1️⃣-calcmode-keysplines-自定义keyframes缓动函数" tabindex="-1">1️⃣1️⃣ <code>calcMode</code> &amp; <code>keySplines</code> 自定义keyframes缓动函数 <a class="header-anchor" href="#_1️⃣1️⃣-calcmode-keysplines-自定义keyframes缓动函数" aria-hidden="true">#</a></h2><p>📚 CSS中可以通过指定的关键词和 <a href="http://en.wikipedia.org/wiki/B%C3%A9zier_curve" target="_blank" rel="noreferrer">贝塞尔曲线</a> 函数指定缓动函数。在SMIL中控制动画节奏的特性是 <code>calcMode</code>，默认值是 <code>linear</code> (<code>&lt;animateMotion&gt;</code> 元素除外)。</p><p>除了 <code>linear</code> 值外，还有3个值：</p><ol><li><code>discrete</code> - 离散值，直接从一个值跳到另一个值，没有动画，类似CSS中的 <code>steps()</code> 函数</li><li><code>paced</code> - 类似于 <code>linear</code>，但是它会忽略 <code>keyTimes</code> 定义的进度值。它计算出后续值之间的距离，并相应地分配时间。如果所有值都是线性顺序的，则不会注意到差异。但如果动画返回和前进，或者改变的是颜色值（颜色被当做是三维vector值），则你就可以觉察到中间值</li><li><code>spline</code> - splie的时间点通过 <code>keyTimes</code> 定义，值则是 <code>values</code>，而 <code>keySplines</code> 则控制每一段之间缓动函数</li></ol><p>🌰 <a href="https://codepen.io/AmeliaBR/pen/BaEjdP" target="_blank" rel="noreferrer">calcMode对比</a></p><iframe height="300" style="width:100%;" scrolling="no" title="SVG/SMIL calcMode comparison" src="https://codepen.io/AmeliaBR/embed/preview/BaEjdP?default-tab=result&amp;editable=true&amp;theme-id=dark" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen &lt;a href=&quot;https://codepen.io/AmeliaBR/pen/BaEjdP&quot;&gt;
  SVG/SMIL calcMode comparison&lt;/a&gt; by Amelia Bellamy-Royds (&lt;a href=&quot;https://codepen.io/AmeliaBR&quot;&gt;@AmeliaBR&lt;/a&gt;)
  on &lt;a href=&quot;https://codepen.io&quot;&gt;CodePen&lt;/a&gt;.
</iframe><p>对于 <code>calcMode=&quot;spline&quot;</code> 还是以CSS做类比：</p><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">@keyframes</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">bounce</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">0%</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">top</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">animation-timing-function</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> ease-in</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">15%</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">top</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">animation-timing-function</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> ease-out</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">30%</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">top</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">70px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">animation-timing-function</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> ease-in</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">45%</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">top</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">animation-timing-function</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> ease-out</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">60%</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">top</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">120px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">animation-timing-function</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> ease-in</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">75%</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">top</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">animation-timing-function</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> ease-out</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">90%</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">top</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">170px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">animation-timing-function</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> ease-in</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">100%</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">top</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">animation-timing-function</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> ease-out</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>📚上面我们每一小段的动画缓动函数都不同（通过 <code>animation-timing-function</code> 定义）；SMIL中也可以定义每一段的缓动函数，但是它是通过 <strong><code>贝塞尔曲线的2个控制点进行定义的</code></strong>，比如：</p><ul><li><code>ease-in</code> = <code>cubic-bezier(0.47, 0, 0.745, 0.715)</code></li><li><code>ease-out</code> = <code>cubic-bezier(0.39, 0.575, 0.565, 1)</code></li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>上面的可能不直观，可通过 <a href="https://cubic-bezier.com/#.17,.67,.85,.06" target="_blank" rel="noreferrer">Cubic-Bezier工具</a> 来查看控制点</p></div><p>上面的CSS keyframes 用SMIL，可以写为：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki has-focused-lines"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">animate</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">xlink:href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#circle</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">attributeName</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cy</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">from</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">to</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">250</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">dur</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">3s</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">begin</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">click</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span></span>
<span class="line has-focus"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">keyTimes</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0; 0.15; 0.3; 0.45; 0.6; 0.75; 0.9; 1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">  </span></span>
<span class="line has-focus"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">values</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50; 250; 120; 250; 170; 250; 210; 250</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">    </span></span>
<span class="line has-focus"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">calcMode</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">spline</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">                                 </span></span>
<span class="line has-focus"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">keySplines</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">                                      </span></span>
<span class="line has-focus"><span style="color:#C3E88D;">    0.42 0 1 1;                                     </span></span>
<span class="line has-focus"><span style="color:#C3E88D;">    0 0 0.59 1;                                     </span></span>
<span class="line has-focus"><span style="color:#C3E88D;">    0.42 0 1 1;                                     </span></span>
<span class="line has-focus"><span style="color:#C3E88D;">    0 0 0.59 1;</span></span>
<span class="line has-focus"><span style="color:#C3E88D;">    0.42 0 1 1;</span></span>
<span class="line has-focus"><span style="color:#C3E88D;">    0 0 0.59 1;</span></span>
<span class="line has-focus"><span style="color:#C3E88D;">    0.42 0 1 1</span></span>
<span class="line has-focus"><span style="color:#C3E88D;">  </span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">fill</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">freeze</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">circ-anim</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"></span></code></pre></div><p>可以看出 <code>keyTimes</code> 数量为 <code>7</code>；而 <code>keySplines</code> 定义的是2个keyTimes之间的缓动函数，因此它的数量为 <code>6</code>。</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>上面<code>keySplines</code>中的 <code>0.42 0 1 1</code> 的含义是贝塞尔曲线的2个控制点，第一个控制点为 <code>(0.42, 0)</code>，第2个控制点为 <code>(1, 1)</code></p></div><p>🌰 <a href="https://codepen.io/JamesSawyer/pen/MWXJmmN" target="_blank" rel="noreferrer">calcMode spline 定义各个动画段缓动函数 - @codepen</a></p><iframe height="300" style="width:100%;" scrolling="no" title="#6 SVG SMIL keyTimes &amp; values" src="https://codepen.io/JamesSawyer/embed/preview/MWXJmmN?default-tab=result&amp;editable=true&amp;theme-id=dark" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen &lt;a href=&quot;https://codepen.io/JamesSawyer/pen/MWXJmmN&quot;&gt;
  #6 SVG SMIL keyTimes &amp;amp; values&lt;/a&gt; by james sawyer (&lt;a href=&quot;https://codepen.io/JamesSawyer&quot;&gt;@JamesSawyer&lt;/a&gt;)
  on &lt;a href=&quot;https://codepen.io&quot;&gt;CodePen&lt;/a&gt;.
</iframe><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>如果只想定义总体的缓动函数值，则只需要将 <code>keyTimes</code> 设置为 <code>keyTimes=&quot;0; 1&quot;</code>：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki has-focused-lines"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">animate</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">xlink:href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#circle</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">attributeName</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cy</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">from</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">to</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">250</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">dur</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">3s</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">begin</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">click</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span></span>
<span class="line has-focus"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">keyTimes</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0; 1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">  </span></span>
<span class="line has-focus"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">values</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50; 250</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">    </span></span>
<span class="line has-focus"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">calcMode</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">spline</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">                                 </span></span>
<span class="line has-focus"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">keySplines</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">                                      </span></span>
<span class="line has-focus"><span style="color:#C3E88D;">    0.42 0 1 1;                                     </span></span>
<span class="line has-focus"><span style="color:#C3E88D;">  </span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">fill</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">freeze</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">circ-anim</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"></span></code></pre></div></div><h2 id="_1️⃣2️⃣-additive-accumulate-叠加和累积动画" tabindex="-1">1️⃣2️⃣ <code>additive</code> &amp; <code>accumulate</code> 叠加和累积动画 <a class="header-anchor" href="#_1️⃣2️⃣-additive-accumulate-叠加和累积动画" aria-hidden="true">#</a></h2><p>有时候，定义一个从前一个动画结束的地方开始的动画是很有用的;或者使用前面动画的累计总和作为继续的值。为此，SVG有2个便利的特性：</p><ul><li><code>additive</code> - 指定 <code>from</code> &amp; <code>to</code> 是否是相对于当前值；接收2个值 <ul><li><code>&quot;sum&quot;</code> - 相对动画特性原始值</li><li><code>&quot;replace&quot;</code> - 默认值；表示 <code>from</code> &amp; <code>to</code> 将取代当前/原始值，可能导致动画开始时诡异的跳动😅</li></ul></li><li><code>accumulate</code> - 是否第2次重复动画的开始值，是第一次动画的结束值 <ul><li><code>&quot;sum&quot;</code> - 累积</li><li><code>&quot;none&quot;</code> - 重复动画从头开始</li></ul></li></ul><p>🌰1️⃣</p><p>假如你想增长一个元素的宽度；或者增加一条线段的长度；又或者你想让一个元素一步一步，从一个位置移动到另一个位置，通过分离的步骤。这个功能特别适用于 <strong>重复动画</strong>。</p><div class="tip custom-block"><p class="custom-block-title">📚</p><p>就好像其它动画一样，你会设置 <code>from</code> &amp; <code>to</code>，但是如果你将 <code>additive</code> 设置为 <code>sum</code>，则<strong>它们的每一个值都相对于动画属性的原始值。</strong></p></div><p>以圆的动画为例，假设其 <code>cx</code> 初始为 <code>50</code>，设置 <code>from=&quot;0&quot; &amp; to=&quot;100&quot;</code>；0实际上是原来的50,100实际上是50 + 100;换句话说，这实际上相当于 <code>from=&quot;50&quot; to=&quot;150&quot;</code>：😎</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki has-highlighted-lines"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">svg</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">width</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">500</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">height</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">100</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">circle</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">circle</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">r</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">30</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">cx</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">cy</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">fill</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">orange</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">animate</span><span style="color:#89DDFF;"> </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">xlink:href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#circle</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">attributeName</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cx</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">from</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">to</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">100</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span></span>
<span class="line highlighted"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">additive</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">sum</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">repeatCount</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">3</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">calcMode</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">spline</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">keyTimes</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0;1</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">keySplines</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.42 0 1 1</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">dur</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1s</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">begin</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">click</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">fill</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">freeze</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">svg</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p><a href="https://codepen.io/JamesSawyer/pen/qBKRmvX" target="_blank" rel="noreferrer">SVG SMIL additive attribute - @codepen</a></p><iframe height="300" style="width:100%;" scrolling="no" title="#8 SVG SMIL additive" src="https://codepen.io/JamesSawyer/embed/preview/qBKRmvX?default-tab=result&amp;editable=true&amp;theme-id=dark" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen &lt;a href=&quot;https://codepen.io/JamesSawyer/pen/qBKRmvX&quot;&gt;
  #8 SVG SMIL additive&lt;/a&gt; by james sawyer (&lt;a href=&quot;https://codepen.io/JamesSawyer&quot;&gt;@JamesSawyer&lt;/a&gt;)
  on &lt;a href=&quot;https://codepen.io&quot;&gt;CodePen&lt;/a&gt;.
</iframe><p>🌰2️⃣ 重复3次，这相当于动画从 <code>50</code> -&gt; <code>150</code> -&gt; <code>250</code> -&gt; <code>350</code></p><p>​ - <a href="https://codepen.io/JamesSawyer/pen/vYrgZZv" target="_blank" rel="noreferrer">SVG SMIL accumulate</a></p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki has-highlighted-lines"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">svg</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">width</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">500</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">height</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">100</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">circle</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">circle</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">r</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">30</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">cx</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">cy</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">fill</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">orange</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">animate</span><span style="color:#89DDFF;"> </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">xlink:href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#circle</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">attributeName</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cx</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">from</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">to</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">100</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">additive</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">sum</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">accumulate</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">sum</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">repeatCount</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">3</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">calcMode</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">spline</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">keyTimes</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0;1</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">keySplines</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.42 0 1 1</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">dur</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1s</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">begin</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">click</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">fill</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">freeze</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">svg</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><iframe height="300" style="width:100%;" scrolling="no" title="#8 SVG SMIL additive" src="https://codepen.io/JamesSawyer/embed/preview/vYrgZZv?default-tab=result&amp;editable=true&amp;theme-id=dark" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen &lt;a href=&quot;https://codepen.io/JamesSawyer/pen/vYrgZZv&quot;&gt;
  #8 SVG SMIL additive&lt;/a&gt; by james sawyer (&lt;a href=&quot;https://codepen.io/JamesSawyer&quot;&gt;@JamesSawyer&lt;/a&gt;)
  on &lt;a href=&quot;https://codepen.io&quot;&gt;CodePen&lt;/a&gt;.
</iframe><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p><code>accumulate</code> 以下几种情况会被忽略：</p><ol><li>动画的特性（比如 <code>fill</code> 颜色填充）不支持累加</li><li>动画元素没有进行重复</li><li>只指定了 <code>to</code> 特性，没有指定 <code>from</code> 特性</li></ol></div><h2 id="_1️⃣3️⃣-end-指定动画结束条件" tabindex="-1">1️⃣3️⃣ <code>end</code> 指定动画结束条件 <a class="header-anchor" href="#_1️⃣3️⃣-end-指定动画结束条件" aria-hidden="true">#</a></h2><p>📚 除了通过 <code>begin</code> 指定动画的开始条件（或时间）外，还可以通过 <code>end</code> 指定动画结束的条件或者时间。</p><ul><li>它接受和 <code>begin</code> 一样的值，可以是一个绝对或者相对时间值，重复值，事件值等等</li><li>比如一个动画无限重复，但是可以当触发另一个动画的时候，将这个无限重复的动画终止</li></ul><p>🌰1️⃣ <code>橘色圆动画时长30s，当点击绿色圆时，绿色圆开始动画，橘色圆动画会停止</code>：<a href="https://codepen.io/JamesSawyer/pen/zYaZQOe" target="_blank" rel="noreferrer">SVG SMIL end 属性</a></p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki has-highlighted-lines"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">svg</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">width</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">500</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">height</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">350</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">circle</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">orange</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">r</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">30</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">cx</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">cy</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">fill</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">orange</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">circle</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">green</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">r</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">30</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">cx</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">cy</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">150</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">fill</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">green</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">animate</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">xlink:href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#orange</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">attributeName</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cx</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">from</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">to</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">450</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">dur</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">30s</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">begin</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0s</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">end</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">greenAnim.begin</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">fill</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">freeze</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">orangeAnim</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">animate</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">xlink:href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#green</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">attributeName</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cx</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">from</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">to</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">450</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">dur</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1s</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">begin</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">click</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">fill</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">freeze</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">greenAnim</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  /&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">svg</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><iframe height="300" style="width:100%;" scrolling="no" title="#10 SVG SMIL end 结束动画1" src="https://codepen.io/JamesSawyer/embed/preview/zYaZQOe?default-tab=result&amp;editable=true&amp;theme-id=dark" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen &lt;a href=&quot;https://codepen.io/JamesSawyer/pen/zYaZQOe&quot;&gt;
  #10 SVG SMIL end 结束动画1&lt;/a&gt; by james sawyer (&lt;a href=&quot;https://codepen.io/JamesSawyer&quot;&gt;@JamesSawyer&lt;/a&gt;)
  on &lt;a href=&quot;https://codepen.io&quot;&gt;CodePen&lt;/a&gt;.
</iframe><p>🌰2️⃣ <code>对同一个元素多个动画效果进行操作</code> - <a href="https://codepen.io/JamesSawyer/pen/LYrWoGY" target="_blank" rel="noreferrer">SVG SMIL end属性示例2</a></p><pre><code>- 橘色圆动画效果1：颜色无限变化
- 同一个橘色圆动画效果2：当点击时，开始移动，同时结束动画1的效果
</code></pre><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki has-highlighted-lines"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">svg</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">width</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">500</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">height</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">100</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">circle</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">orange</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">r</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">30</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">cx</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">cy</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">fill</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">orange</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">animate</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">xlink:href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#orange</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">attributeName</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">fill</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">from</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#0099CC</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">to</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">deepPink</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">dur</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">5s</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">begin</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0s</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">end</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">moveAnim.begin</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">repeatCount</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">indefinite</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">fill</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">freeze</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">colorAnim</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">animate</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">xlink:href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#orange</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">attributeName</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cx</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">from</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">to</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">450</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">dur</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">5s</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">begin</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">click</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">fill</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">freeze</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">moveAnim</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  /&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">svg</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><iframe height="300" style="width:100%;" scrolling="no" title="#10 SVG SMIL end 结束动画1" src="https://codepen.io/JamesSawyer/embed/preview/LYrWoGY?default-tab=result&amp;editable=true&amp;theme-id=dark" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen &lt;a href=&quot;https://codepen.io/JamesSawyer/pen/LYrWoGY&quot;&gt;
  #10 SVG SMIL end 结束动画1&lt;/a&gt; by james sawyer (&lt;a href=&quot;https://codepen.io/JamesSawyer&quot;&gt;@JamesSawyer&lt;/a&gt;)
  on &lt;a href=&quot;https://codepen.io&quot;&gt;CodePen&lt;/a&gt;.
</iframe><h2 id="_1️⃣4️⃣-多组-begin-end-定义间歇性动画" tabindex="-1">1️⃣4️⃣ 多组 <code>begin</code> + <code>end</code> 定义间歇性动画 <a class="header-anchor" href="#_1️⃣4️⃣-多组-begin-end-定义间歇性动画" aria-hidden="true">#</a></h2><p>📚 可以定义多组 <code>begin</code> + <code>end</code> 值，一个begin对应一个end值，这样形成 <code>active</code> &amp; <code>inactive</code> 间隔动画。</p><ul><li>可以理解为一辆移动的小车，车的轮子间歇性的转动和不转动，取决于小车是否在移动</li><li>可以对小车创建多个动画效果，一个移动小车，一个旋转轮子，旋转动画和移动动画可以进行同步</li></ul><p>🌰 <code>矩形依据定义的多组begin + end值，间歇性的旋转，动画4次</code> - <a href="https://codepen.io/JamesSawyer/pen/KKeWLvx" target="_blank" rel="noreferrer">SVG SMIL间歇性动画效果</a></p><ul><li><code>0s - 2s</code> 2s旋转360° 第一次动画</li><li><code>5s - 8s</code> 3s旋转360°，第2次动画等第一次动画结束后3s（<code>5s - 2s</code>）开始</li><li><code>9s - 15s</code> 6s旋转360°，第3次动画等第2次动画结束后1s（<code>9s - 8s</code>）开始</li><li><code>17s - 25s</code> 8s旋转360°，第4次动画等第3次动画结束后2s（<code>17s - 15s</code>）开始</li></ul><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki has-highlighted-lines"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">svg</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">width</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">500</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">height</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">150</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">rect</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">rect</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">width</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">height</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">x</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">y</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">fill</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">deepPink</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">animateTransform</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">xlink:href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#rect</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">attributeType</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">XML</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">attributeName</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">transform</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">rotate</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">from</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0 75 75</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">to</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">360 75 75</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">dur</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2s</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">begin</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0s; 5s; 9s; 17s;</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">end</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2s; 8s; 15s; 25s;</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">fill</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">freeze</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">restart</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">whenNotActive</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  /&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">svg</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><iframe height="300" style="width:100%;" scrolling="no" title="#11 SVG SMIL end 结束动画2" src="https://codepen.io/JamesSawyer/embed/preview/KKeWLvx?default-tab=result&amp;editable=true&amp;theme-id=dark" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen &lt;a href=&quot;https://codepen.io/JamesSawyer/pen/KKeWLvx&quot;&gt;
  #11 SVG SMIL end 结束动画2&lt;/a&gt; by james sawyer (&lt;a href=&quot;https://codepen.io/JamesSawyer&quot;&gt;@JamesSawyer&lt;/a&gt;)
  on &lt;a href=&quot;https://codepen.io&quot;&gt;CodePen&lt;/a&gt;.
</iframe><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>即使将 <code>repeateCount=&quot;indefinite&quot;</code> 无限动画，它会被多组 <code>begin + end</code> 覆盖。</p></div><h2 id="_1️⃣5️⃣-min-max-限制动画时间" tabindex="-1">1️⃣5️⃣ <code>min</code> &amp; <code>max</code> 限制动画时间 <a class="header-anchor" href="#_1️⃣5️⃣-min-max-限制动画时间" aria-hidden="true">#</a></h2><p>📚 <code>min</code> &amp; <code>max</code> 限制动画<strong>激活时长</strong>。</p><ul><li>之前介绍过 <code>dur</code> &amp; <code>repeatDur</code>，如果和它们一起使用，它们之间的限制规则是什么呢？</li><li>浏览器会依据 <code>dur</code> &amp; <code>repeatCount</code> &amp; <code>repeatDur</code> &amp; <code>end</code> 定义的值计算 <strong>激活时长</strong>，然后再对 <code>min</code> &amp; <code>max</code> 做比较： <ul><li>如果计算的时长 <strong>大于</strong> <code>max</code>，则激活时长最后取 <code>max</code> 值</li><li>如果小于 <code>min</code>，则激活时长取 <code>min</code> 值 <ul><li>如果元素的重复持续时间(或者如果元素不重复则为简单持续时间)大于min，则元素在活动持续时间(min受限)内正常播放</li><li>否则，元素将在其重复持续时间内正常播放(如果元素不重复则为简单持续时间)，然后根据 <code>fill</code> 属性的值冻结或不显示</li></ul></li></ul></li></ul><p>2022年11月11日19:22:38</p></div></div></main><!--[--><!--]--><footer class="VPDocFooter" data-v-a469ff95 data-v-84a1ddec><div class="edit-info" data-v-84a1ddec><div class="edit-link" data-v-84a1ddec><a class="VPLink link edit-link-button" href="https://github.com/jamessawyer/awesome-gsap/edit/main/docs/svg/animation/svg-animation-attributes.md" target="_blank" rel="noreferrer" data-v-84a1ddec data-v-dfed8291><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" data-v-84a1ddec><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> 在GitHub编辑此页<!--]--><!----></a></div><div class="last-updated" data-v-84a1ddec><p class="VPLastUpdated" data-v-84a1ddec data-v-62d659a2>Last updated: <time datetime="2022-11-15T10:07:10.000Z" data-v-62d659a2></time></p></div></div><div class="prev-next" data-v-84a1ddec><div class="pager" data-v-84a1ddec><a class="pager-link prev" href="/awesome-graph/svg/animation/svg-animation-overview.html" data-v-84a1ddec><span class="desc" data-v-84a1ddec>Previous page</span><span class="title" data-v-84a1ddec>SVG动画概览</span></a></div><div class="has-prev pager" data-v-84a1ddec><a class="pager-link next" href="/awesome-graph/svg/animation/svg-animation-morphing-path.html" data-v-84a1ddec><span class="desc" data-v-84a1ddec>Next page</span><span class="title" data-v-84a1ddec>⚡morphing path动画效果</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"9c463bec\",\"svg_animation_a-guide-to-svg-animations.md\":\"4b7d3145\",\"svg_animation_svg-animation-attributes.md\":\"7ef7eb66\",\"svg_animation_svg-animation-morphing-path.md\":\"04931ef7\",\"svg_animation_svg-animation-motion-path.md\":\"36b18eb5\",\"svg_animation_svg-animation-overview.md\":\"19ee1a62\",\"svg_animation_svg-animation-transformations.md\":\"646665fa\",\"svg_depth_part1-svg-viewport-viewbox.md\":\"477a37dc\",\"svg_index.md\":\"a6fed1c6\"}")</script>
    <script type="module" async src="/awesome-graph/assets/app.b813a189.js"></script>
    
  </body>
</html>